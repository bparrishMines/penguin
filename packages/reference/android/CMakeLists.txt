cmake_minimum_required(VERSION 3.6.0)
project(reference)

enable_language(ASM)

# Set as required by ../third_party/dart-sdk/sources.cmake included below
set(DARTSDK_ROOT ../third_party/dart-sdk/)

# Import sources generated by tool/update-dart-sdk.py
# This provides variables, and requires DARTSDK_ROOT to be set.
#  - dart_dl_sources
include(
  ../third_party/dart-sdk/sources.cmake
)

add_library(
  reference

  SHARED
  ${dart_dl_sources}
  ../ios/Classes/reference.cpp
)

target_include_directories(
  reference

  PUBLIC
  ../third_party/dart-sdk/src/runtime/
)

# Provides <android/log.h>
find_library(
  log-lib
  log
)
target_link_libraries(
  reference
  ${log-lib}
)

